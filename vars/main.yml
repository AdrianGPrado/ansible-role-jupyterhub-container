---
# vars file for docker-jupyterhub

# ------------------- DOCKER FOLDER STRUCTURE --------------------
cull_docker_conf_files: cull
jhub_docker_conf_files: jupyterhub
stats_docker_conf_files: stats

cull_docker_dir: '{{ jupyterhub_work_dir }}/{{ cull_docker_conf_files }}'
jupytherhub_docker_dir: '{{ jupyterhub_work_dir }}/{{ jhub_docker_conf_files }}'
jupyterhub_users_dir: '{{ jupyterhub_work_dir }}/jupyterhub_users'
postgres_docker_dir: '{{ jupyterhub_work_dir}}/postgres'
stats_docker_dir: '{{ jupyterhub_work_dir }}/{{ stats_docker_conf_files }}'
stats_db_dir: '{{ jupyterhub_work_dir }}/stats_db'

docker_images_conf_dif_folders:
  - '{{ cull_docker_conf_files }}'
  - '{{ jhub_docker_conf_files }}'
  - '{{ stats_docker_conf_files }}'

docker_jupyterhub_dir_structure:
  - '{{ cull_docker_dir }}'
  - '{{ jupytherhub_docker_dir }}'
  - '{{ jupyterhub_users_dir }}'
  - '{{ stats_docker_dir }}'
  - '{{ stats_db_dir }}'

docker_images_Dockerfiles:
  - src:  'cull_Dockerfile.j2'
    dest: '{{ cull_docker_dir }}'
  - src:  'jupyterhub_Dockerfile.j2'
    dest: '{{ jupytherhub_docker_dir }}'
  - src:  'stats_Dockerfile.j2'
    dest: '{{ stats_docker_dir }}'

# ------------------- DOCKER IMAGES AND CONTAINERS --------------------

docker_img_jhub_name: jupyterhub_nrg
docker_img_jhub_custom_tag: jhub_nrg

docker_img_cull_name: cull_nrg
docker_img_cull_custom_tag: jhub_nrg

docker_img_stats_name: stats_nrg
docker_img_stats_custom_tag: jhub_nrg

list_docker_custom_images:
  - name: '{{ docker_img_cull_name }}'
    tag:  '{{ docker_img_cull_custom_tag }}'
    path: '{{ cull_docker_dir }}'
  - name: '{{ docker_img_stats_name }}'
    tag:  '{{ docker_img_stats_custom_tag }}'
    path: '{{ stats_docker_dir }}'
  - name: '{{ docker_img_jhub_name }}'
    tag:  '{{ docker_img_jhub_custom_tag }}'
    path: '{{ jupytherhub_docker_dir }}'

# ------------------- DOCKER VOLUMES --------------------

postgres_docker_container_PGATA: /var/lib/postgresql/data/jupyterhub
postgres_docker_host_vol: '{{ postgres_docker_dir }}/jupyterhub'

jhub_users_docker_cont_vol: /srv/jupyterhub_users
jhub_users_docker_host_vol: '{{ jupyterhub_users_dir }}'

